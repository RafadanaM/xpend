(this.webpackJsonpfe=this.webpackJsonpfe||[]).push([[0],{37:function(e,t,n){},64:function(e,t){},65:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(18),s=n.n(c),o=(n(37),n(11)),i=n(6),l=n(0),u=function(e){var t=e.children,n=e.className,a=void 0===n?"":n;return Object(l.jsx)("div",{className:"w-full md:w-11/12 max-w-screen-2xl flex flex-col mx-auto ".concat(a),children:t})},d=function(){return Object(l.jsx)("footer",{className:"bg-gradient-to-t from-primary to-blue-500 h-12",children:Object(l.jsx)(u,{className:"h-full",children:Object(l.jsx)("div",{className:"flex items-center justify-center h-full",children:Object(l.jsx)("span",{className:"text-2xs text-white text-center font-medium",children:"Copyright \xa9 2021 Xpend. All rights reserved."})})})})},b=n(3);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var m=a.createElement("path",{fillRule:"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"});function j(e,t){var n=e.title,r=e.titleId,c=p(e,["title","titleId"]);return a.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-chevron-down",viewBox:"0 0 16 16",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,m)}var h=a.forwardRef(j);n.p;var x=function(e,t){Object(a.useEffect)((function(){function n(n){e.current&&!e.current.contains(n.target)&&t()}return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[e,t])},O=function(e){var t=e.icon,n=e.title,a=e.isButton,r=void 0===a||a,c=e.url,s=void 0===c?"":c,u=e.onClick,d=Object(i.h)("/".concat(n.toLowerCase()));return r?Object(l.jsxs)("button",{onClick:u,className:"w-full flex gap-x-3 text-sm md:text-base items-center p-2 bg-opacity-100 transition-all duration-300 bg-accent-orange hover:bg-opacity-75",children:[t,Object(l.jsx)("span",{children:n})]}):Object(l.jsxs)(o.b,{className:"w-full flex gap-x-3 text-sm md:text-base items-center p-2 bg-opacity-100 transition-all duration-300 bg-accent-orange hover:bg-opacity-75 ".concat(d?"hidden":""),to:s,onClick:u,children:[t,Object(l.jsx)("span",{children:n})]})};function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var y=a.createElement("path",{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"}),w=a.createElement("path",{fillRule:"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"});function N(e,t){var n=e.title,r=e.titleId,c=g(e,["title","titleId"]);return a.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-person-circle",viewBox:"0 0 16 16",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,y,w)}var k=a.forwardRef(N);n.p;function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var T=a.createElement("path",{fillRule:"evenodd",d:"M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0v2z"}),E=a.createElement("path",{fillRule:"evenodd",d:"M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"});function I(e,t){var n=e.title,r=e.titleId,c=S(e,["title","titleId"]);return a.createElement("svg",C({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-box-arrow-left",viewBox:"0 0 16 16",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,T,E)}var P=a.forwardRef(I);n.p;function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function D(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var z=a.createElement("path",{d:"M6.5 14.5v-3.505c0-.245.25-.495.5-.495h2c.25 0 .5.25.5.5v3.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5z"});function R(e,t){var n=e.title,r=e.titleId,c=D(e,["title","titleId"]);return a.createElement("svg",M({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-house-door-fill",viewBox:"0 0 16 16",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,z)}var A=a.forwardRef(R),B=(n.p,n(2)),_=n.n(B),F=n(4),L=n(30),Z=n.n(L).a.create({baseURL:"/api",responseType:"json",withCredentials:!0}),H="/auth",V={login:function(){var e=Object(F.a)(_.a.mark((function e(t,n){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.post("".concat(H,"/login"),{email:t,password:n});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),logout:function(){var e=Object(F.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.post("".concat(H,"/logout"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},U="/users",Y={getUser:function(){var e=Object(F.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.get("".concat(U));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),register:function(){var e=Object(F.a)(_.a.mark((function e(t,n,a,r,c){var s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.post("".concat(U),{first_name:t,last_name:n,email:a,password:r,confirm_password:c});case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),editProfile:function(){var e=Object(F.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.patch("".concat(U),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},$=Object(a.createContext)({});function q(e){var t=e.children,n=Object(a.useState)(),r=Object(b.a)(n,2),c=r[0],s=r[1],o=Object(a.useState)(),u=Object(b.a)(o,2),d=u[0],f=u[1],p=Object(a.useState)(!1),m=Object(b.a)(p,2),j=m[0],h=m[1],x=Object(a.useState)(!0),O=Object(b.a)(x,2),v=O[0],g=O[1],y=Object(i.i)(),w=Object(i.g)();Object(a.useEffect)((function(){f(null)}),[w.pathname]),Object(a.useEffect)((function(){Y.getUser().then((function(e){return s(e)})).catch((function(e){})).finally((function(){return g(!1)}))}),[]);var N=Object(a.useCallback)(function(){var e=Object(F.a)(_.a.mark((function e(t,n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(!0),V.login(t,n).then((function(e){s(e),y("/home",{replace:!0})})).catch((function(e){var t,n,a=null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message;f(a)})).finally((function(){return h(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[y]);function k(){V.logout().then((function(){return s(void 0)}))}var C=Object(a.useMemo)((function(){return{user:c,setUser:s,loading:j,error:d,login:N,logout:k}}),[c,j,d,N]);return Object(l.jsx)($.Provider,{value:C,children:!v&&t})}function J(){return Object(a.useContext)($)}var X=function(e){var t=e.isOpen,n=e.onItemClick,a=J().logout;return Object(l.jsxs)("div",{className:"absolute bg-white shadow-lg z-50 w-full left-0 top-full transform origin-top overflow-hidden transition-all duration-200 ".concat(t?"scale-y-100":"scale-y-0"),children:[Object(l.jsx)(O,{icon:Object(l.jsx)(A,{className:"w-5 h-5"}),title:"Home",url:"/home",isButton:!1,onClick:n}),Object(l.jsx)(O,{icon:Object(l.jsx)(k,{className:"w-5 h-5"}),title:"Profile",url:"/profile",isButton:!1,onClick:n}),Object(l.jsx)(O,{icon:Object(l.jsx)(P,{className:"w-5 h-5"}),title:"Logout",url:"/logout",onClick:function(){n(),a()}})]})},G=function(){var e=Object(a.useState)(!1),t=Object(b.a)(e,2),n=t[0],r=t[1],c=Object(i.h)("/"),s=Object(a.useRef)(null);x(s,(function(){r(!1)}));var o=function(){r((function(e){return!e}))};return Object(l.jsxs)("div",{ref:s,className:"relative w-24 md:w-36 -mx-3 md:mx-0 h-full flex items-center justify-center ".concat(c?"hidden":""),children:[Object(l.jsx)("button",{onClick:o,className:"w-full",children:Object(l.jsx)(h,{className:"h-5 w-5 md:w-7 md:h-7 stroke-current stroke-1 mx-auto transition-all transform ".concat(n?"rotate-180":"rotate-0")})}),Object(l.jsx)(X,{isOpen:n,onItemClick:o})]})},W=function(){return Object(l.jsxs)("nav",{className:"h-16 bg-gradient-to-r border-0 from-primary to-blue-500 text-white px-3 flex justify-between items-center",children:[Object(l.jsxs)(o.b,{className:"text-3xl font-semibold",to:"/",children:[Object(l.jsx)("span",{className:"text-accent-orange",children:"X"}),"pend"]}),Object(l.jsx)(G,{})]})},K=function(){var e=J(),t=e.user,n=e.setUser;return Z.interceptors.response.use(void 0,(function(e){var t;return 401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&n(void 0),Promise.reject(e)})),t?Object(l.jsx)(u,{className:"flex-grow",children:Object(l.jsx)(i.b,{})}):Object(l.jsx)(i.a,{to:"/"})},Q=n(13),ee=function(){return Object(Q.b)()},te=Q.c,ne=n(7),ae=n(5),re="/transactions",ce={getTransactions:function(){var e=Object(F.a)(_.a.mark((function e(){var t,n=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{searchText:"",searchDate:""},e.next=3,Z.get("".concat(re,"/?name=").concat(t.searchText,"&date=").concat(t.searchDate));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getThisMonthTransactions:function(){var e=Object(F.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.post("".concat(re,"/summary"),{timeZone:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),createTransaction:function(){var e=Object(F.a)(_.a.mark((function e(t,n,a,r){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(r),e.next=3,Z.post("".concat(re),{title:t,amount:n,description:a,date:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),editTransaction:function(){var e=Object(F.a)(_.a.mark((function e(t,n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.patch("".concat(re,"/").concat(n),Object(ae.a)({},t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),deleteTransaction:function(){var e=Object(F.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.delete("".concat(re,"/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},se={month:"short",day:"numeric",year:"numeric",hour12:!1,hour:"numeric",minute:"numeric"},oe=function(e){var t=new Date(e);return t.setTime(t.getTime()-60*t.getTimezoneOffset()*1e3),t},ie=function(e){var t=new Date;return t.setTime(t.getTime()-60*t.getTimezoneOffset()*1e3),t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()},le=function(e,t){try{return new Date(e).toLocaleString("en-GB",t)}catch(n){return""}},ue=function(e){return e<10?"".concat(0,e):e},de=function(e){var t=new Date(e);return"".concat(t.getFullYear(),"-").concat(ue(t.getMonth()+1),"-").concat(ue(t.getDate()),"T").concat(ue(t.getHours()),":").concat(ue(t.getMinutes()))},be=Object(ne.b)("transactions/summary",Object(F.a)(_.a.mark((function e(){var t,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(new Date).getTimezoneOffset(),e.next=3,ce.getThisMonthTransactions(t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})))),fe=Object(ne.b)("transactions/updateTransaction",function(){var e=Object(F.a)(_.a.mark((function e(t,n){var a,r,c,s,o,i,l,u,d;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.transaction,r=t.id,c=n.dispatch,"expense"===a.type&&(a.amount=-1*+a.amount),delete a.type,e.next=6,ce.editTransaction(a,r);case 6:return s=e.sent,o=s.data,i=o.prevTransaction,l=o.updatedTransaction,u=oe(i.date),d=oe(l.date),i.amount!==l.amount&&(ie(u)||ie(d))&&c(be()),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),pe=Object(ne.b)("transactions/fetchTransactions",Object(F.a)(_.a.mark((function e(){var t,n,a=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{searchText:"",searchDate:""},e.next=3,ce.getTransactions(t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})))),me=Object(ne.b)("transactions/deleteTransaction",function(){var e=Object(F.a)(_.a.mark((function e(t,n){var a,r,c,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.next=3,ce.deleteTransaction(t);case 3:return r=e.sent,c=r.data,s=oe(c.date),ie(s)&&a(be()),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),je=Object(ne.b)("transactions/addNewTransaction",function(){var e=Object(F.a)(_.a.mark((function e(t,n){var a,r,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,"expense"===t.type&&(t.amount=-1*+t.amount),e.next=4,ce.createTransaction(t.title,t.amount,t.description,t.date);case 4:r=e.sent,c=r.data,ie(oe(c.date))&&a(be()),a(pe());case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),he="/tasks",xe={createTask:function(){var e=Object(F.a)(_.a.mark((function e(t,n,a){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),e.next=3,Z.post(he,{title:t,description:n,amount:a});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),getTasks:function(){var e=Object(F.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.get(he);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),editTask:function(){var e=Object(F.a)(_.a.mark((function e(t,n,a,r){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.patch("".concat(he,"/").concat(r),{title:t,description:n,amount:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),deleteTask:function(){var e=Object(F.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,Z.delete("".concat(he,"/").concat(t));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),completeTask:function(){var e=Object(F.a)(_.a.mark((function e(t,n,a,r,c){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.post("".concat(he,"/").concat(t,"/complete"),{title:n,description:r,amount:a,date:c});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),undoTask:function(){var e=Object(F.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.post("".concat(he,"/").concat(t,"/undo"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Oe=Object(ne.b)("tasks/fetchTasks",Object(F.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.getTasks();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),ve=Object(ne.b)("tasks/addNewTasks",function(){var e=Object(F.a)(_.a.mark((function e(t){var n,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=+t.amount,"expense"===t.type&&(n*=-1),e.next=4,xe.createTask(t.title,t.description,n);case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ge=Object(ne.b)("tasks/updateTask",function(){var e=Object(F.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"expense"===t.type&&(t.amount=-1*+t.amount),e.next=3,xe.editTask(t.title,t.description,+t.amount,t.id);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ye=Object(ne.b)("tasks/deleteTask",function(){var e=Object(F.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.deleteTask(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),we=Object(ne.b)("tasks/completeTask",function(){var e=Object(F.a)(_.a.mark((function e(t,n){var a,r,c,s,o;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,r=t.taskId,"expense"===(c=t.transactionData).type&&(c.amount=-1*+c.amount),e.next=5,xe.completeTask(r,c.title,c.amount,c.description,c.date);case 5:return s=e.sent,o=s.data,ie(oe(o.transaction.date))&&a(be()),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ne=Object(ne.b)("tasks/undoTask",function(){var e=Object(F.a)(_.a.mark((function e(t,n){var a,r,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.next=3,xe.undoTask(t);case 3:return r=e.sent,(c=r.data).transaction&&ie(oe(c.transaction.date))&&a(be()),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ke=Object(ne.c)({sortComparer:function(e,t){return t.date.localeCompare(e.date)}}),Ce=ke.getInitialState({spent:0,gained:0,totalTransactions:0,status:"idle",error:null,selectedTransaction:void 0}),Se=Object(ne.d)({name:"transactions",initialState:Ce,reducers:{transactionSelected:function(e,t){var n=t.payload.transaction;e.selectedTransaction=n}},extraReducers:function(e){e.addCase(pe.pending,(function(e,t){e.status="loading"})).addCase(pe.fulfilled,(function(e,t){e.status="succeeded",ke.setAll(e,t.payload)})).addCase(pe.rejected,(function(e,t){e.status="failed",e.error=t.error})).addCase(me.fulfilled,(function(e,t){var n=t.payload.id;ke.removeOne(e,n)})).addCase(fe.fulfilled,(function(e,t){var n=t.payload,a=n.prevTransaction,r=n.updatedTransaction,c=e.entities[r.id];c||(c=a),console.log(r.amount,c.amount),ke.updateOne(e,{id:r.id,changes:{title:r.title,description:r.description,date:r.date,amount:r.amount}})})).addCase(we.fulfilled,(function(e,t){var n=t.payload.transaction;ke.addOne(e,n)})).addCase(Ne.fulfilled,(function(e,t){var n=t.payload.transaction;n&&ke.removeOne(e,n.id)})).addCase(be.fulfilled,(function(e,t){var n=t.payload,a=n.gained,r=n.spent,c=n.totalTransactions;e.spent=r,e.gained=a,e.totalTransactions=c}))}}),Te=Se.reducer,Ee=Se.actions.transactionSelected,Ie=ke.getSelectors((function(e){return e.transactions})),Pe=Ie.selectAll,Me=(Ie.selectById,Ie.selectIds,function(e){return e.transactions.status}),De=function(e){return e.transactions.selectedTransaction},ze=function(e){return e.transactions.gained},Re=function(e){return e.transactions.spent},Ae=function(e){var t=e.className,n=void 0===t?"":t,a=e.title,r=e.children,c=e.withButton,s=void 0!==c&&c,o=e.button;return Object(l.jsxs)("div",{className:"flex flex-col bg-gradient-to-t from-blue-100 to-white bg-opacity-5 w-full xl:w-124 h-36 sm:h-52 md:h-64 mx-auto md:rounded-lg card-shadow px-1.5 md:px-4 py-1.5 md:py-2.5 border-b border-primary md:border-b-0 ".concat(n),children:[Object(l.jsxs)("div",{className:"border-b border-primary py-1 md:py-2 flex items-center justify-between",children:[Object(l.jsx)("h2",{className:"md:text-2xl font-semibold",children:a}),s?o:null]}),Object(l.jsx)("div",{className:"w-full h-full ",children:r})]})},Be=function(){var e=te(ze),t=te(Re),n=e-t,r=ee();return Object(a.useEffect)((function(){try{r(be())}catch(e){console.log(e)}}),[r]),Object(l.jsx)(Ae,{title:"Monthly Summary",className:"col-span-2 md:col-span-1",children:Object(l.jsxs)("div",{className:"flex flex-col mt-2 md:mt-5 text-sm w-full gap-y-1 md:gap-y-5",children:[Object(l.jsxs)("p",{className:"font-medium",children:["This month you have gained:"," ",Object(l.jsx)("span",{className:" text-green-500",children:"+ Rp.".concat(e)})]}),Object(l.jsxs)("p",{className:"font-medium",children:["This month you have spent:"," ",Object(l.jsx)("span",{className:" text-red-600",children:"- Rp.".concat(t)})]}),n<0?Object(l.jsxs)("p",{className:"font-medium",children:["Your total this month:"," ",Object(l.jsx)("span",{className:"text-red-600",children:"- Rp.".concat(-n)})]}):Object(l.jsxs)("p",{className:"font-medium",children:["Your total this month:"," ",Object(l.jsx)("span",{className:"text-green-500",children:"+ Rp.".concat(n)})]})]})})};function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Fe(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Le=a.createElement("path",{fillRule:"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),Ze=a.createElement("path",{fillRule:"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"});function He(e,t){var n=e.title,r=e.titleId,c=Fe(e,["title","titleId"]);return a.createElement("svg",_e({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-x-lg",viewBox:"0 0 16 16",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,Le,Ze)}var Ve=a.forwardRef(He),Ue=(n.p,function(e){var t=e.id,n=e.name,a=e.type,r=e.placeholder,c=e.label,s=e.pattern,o=e.errorMessage,i=e.focused,u=e.value,d=e.labelStyle,b=void 0===d?"":d,f=e.inputStyle,p=void 0===f?"appearance-none border rounded w-full py-2 px-3 leading-tight border-secondary text-gray-700 shadow focus:outline-none focus:shadow-outline disabled:text-black disabled:p-0 disabled:border-transparent disabled:shadow-none ":f,m=e.divStyle,j=void 0===m?"mb-4 w-full ":m,h=e.required,x=void 0===h||h,O=e.disabled,v=void 0!==O&&O,g=e.options,y=e.onChange,w=e.onBlur;return Object(l.jsxs)("div",{className:"".concat(j),children:[Object(l.jsx)("label",{className:"block text-sm mb-2 ".concat(v?"border-b-2 py-1 border-secondary":""," ").concat(b),children:c}),"textarea"===a?Object(l.jsx)("textarea",{disabled:v,className:"".concat(p," resize-none"),id:t,name:n,placeholder:r,value:u,rows:4,onChange:y,onBlur:w}):"radio"===a?Object(l.jsx)("div",{className:"flex gap-x-5",children:g&&g.map((function(e){return Object(l.jsxs)("div",{className:"form-check",children:[Object(l.jsx)("input",{className:"form-check-input appearance-none rounded-full h-4 w-4 border border-gray-300 bg-white checked:bg-blue-600  mt-1 mr-2 cursor-pointer",type:"radio",name:n,id:e,value:e,onChange:y,checked:u===e,disabled:v}),Object(l.jsx)("label",{className:"form-check-label inline-block text-gray-800",children:e})]},e)}))}):Object(l.jsx)("input",{disabled:v,required:x,className:p,id:t,type:a,name:n,placeholder:r,pattern:s,value:u,onChange:function(e){return y(e,a,!0)},onBlur:w}),i&&o?Object(l.jsx)("span",{className:"text-red-500 text-xs italic hidden my-1",children:o}):null]})}),Ye=[{id:"0",name:"title",type:"text",placeholder:"Title",label:"Title",errorMessage:"Title must not be empty!"},{id:"1",name:"description",type:"textarea",placeholder:"Description",label:"Description",errorMessage:"Description must not be empty!"},{id:"2",name:"type",type:"radio",placeholder:"income",label:"Type",options:["income","expense"]},{id:"3",name:"amount",type:"number",placeholder:"1000",label:"Amount",errorMessage:"Amount must be a number!"},{id:"4",name:"date",type:"datetime-local",placeholder:"",label:"Date & Time",errorMessage:"Date & Time cannot be empty!"}],$e=[{id:"0",name:"email",type:"email",placeholder:"example@mail.com",label:"Email"},{id:"1",name:"password",type:"password",placeholder:"******************",label:"Password"}],qe=[{id:"0",name:"firstName",type:"text",placeholder:"First Name",label:"First Name",pattern:"^[a-zA-Z0-9]{2,}$",errorMessage:"Should contain atleast 2 characters!"},{id:"1",name:"lastName",type:"text",placeholder:"Last Name",label:"Last Name",pattern:"^[a-zA-Z0-9]{2,}$",errorMessage:"Should contain atleast 2 characters!"},{id:"2",name:"email",type:"email",placeholder:"example@mail.com",label:"Email",errorMessage:"It should be a valid email address!"},{id:"3",name:"password",type:"password",placeholder:"******************",label:"Password",pattern:"^((?=.*[0-9])|(?=.*[a-zA-Z0-9_]+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).{6,20}$",errorMessage:"Password should contain 6-20 letters (atleast 1 upper case, 1 lower case, and 1 number or special character)!"}],Je=[{id:"0",name:"first_name",type:"text",placeholder:"First Name",label:"First Name",pattern:"^[a-zA-Z0-9]{2,}$",errorMessage:"Should contain atleast 2 characters!"},{id:"1",name:"last_name",type:"text",placeholder:"Last Name",label:"Last Name",pattern:"^[a-zA-Z0-9]{2,}$",errorMessage:"Should contain atleast 2 characters!"},{id:"2",name:"email",type:"email",placeholder:"example@mail.com",label:"Email",errorMessage:"It should be a valid email address!"},{id:"3",name:"previous_password",type:"password",placeholder:"******************",label:"Previous Password",errorMessage:"Please enter your previous password!"},{id:"4",name:"new_password",type:"password",placeholder:"******************",label:"New Password",pattern:"^((?=.*[0-9])|(?=.*[a-zA-Z0-9_]+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).{6,20}$",errorMessage:"Password should contain 6-20 letters (atleast 1 upper case, 1 lower case, and 1 number or special character)!"}],Xe=[{id:"0",name:"title",type:"text",placeholder:"Title",label:"Title",errorMessage:"Title must not be empty!"},{id:"1",name:"description",type:"textarea",placeholder:"Description",label:"Description",errorMessage:"Description must not be empty!"},{id:"2",name:"type",type:"radio",placeholder:"income",label:"Type",options:["income","expense"]},{id:"3",name:"amount",type:"number",placeholder:"1000",label:"Amount",errorMessage:"Amount must be a number!"}],Ge=[{id:"0",name:"searchText",type:"text",placeholder:"Title or description",required:!1,inputStyle:"appearance-none border rounded w-full px-2 py-1 leading-tight border-secondary text-gray-700 shadow focus:outline-none focus:shadow-outline text-xs md:text-sm",divStyle:"mb-2 md:flex-grow"},{id:"1",name:"searchDate",type:"month",placeholder:"",required:!1,inputStyle:"appearance-none border rounded w-full px-2 py-1 leading-tight border-secondary text-gray-700 shadow focus:outline-none focus:shadow-outline text-xs md:text-sm",divStyle:"mb-2"}],We=function(e){var t=e.onCancel,n=e.children,r=Object(a.useRef)(null);return x(r,(function(){t()})),Object(l.jsx)("div",{className:"fixed top-0 left-0 w-full h-full md:max-h-screen lg:overflow-auto md:overflow-scroll bg-gray-700 bg-opacity-60 z-50 flex justify-center items-center",children:Object(l.jsx)("div",{className:"bg-white lg:w-11/12 lg:max-w-lg w-full h-full rounded-md md:h-auto z-50 py-2 flex flex-col",ref:r,children:n})})},Ke=n(8),Qe=n(12),et=function(e,t){var n=Object(a.useState)(e),r=Object(b.a)(n,2),c=r[0],s=r[1],o=Object(a.useState)(Object.keys(e).map((function(){return!1}))),i=Object(b.a)(o,2),l=i[0],u=i[1];return{formData:c,focused:l,handleFocus:function(e){l[e]=!0,u(Object(Qe.a)(l))},handleChange:function(e,t,n){n&&"number"===t?+e.target.value>0||0===e.target.value.length?s(Object(ae.a)(Object(ae.a)({},c),{},Object(Ke.a)({},e.target.name,e.target.value))):s(Object(ae.a)(Object(ae.a)({},c),{},Object(Ke.a)({},e.target.name,1))):s(Object(ae.a)(Object(ae.a)({},c),{},Object(Ke.a)({},e.target.name,e.target.value)))},onSubmit:function(e){e.preventDefault(),t()},resetForm:function(){s(e)}}},tt=n(19),nt=Object(ne.c)({sortComparer:function(e,t){return e.created.localeCompare(t.created)}}),at=nt.getInitialState({status:"idle",error:null,selectedId:void 0}),rt=Object(ne.d)({name:"tasks",initialState:at,reducers:{taskSelected:function(e,t){var n=t.payload.id;e.selectedId=n}},extraReducers:function(e){e.addCase(Oe.pending,(function(e,t){e.status="loading"})).addCase(Oe.fulfilled,(function(e,t){e.status="succeeded",nt.setAll(e,t.payload)})).addCase(Oe.rejected,(function(e,t){e.status="failed",e.error=t.error})).addCase(ve.fulfilled,nt.addOne).addCase(we.fulfilled,(function(e,t){var n=t.payload,a=n.task,r=n.transaction,c=e.entities[a.id];c&&(c.isComplete=!0,c.transactions=[r])})).addCase(me.fulfilled,(function(e,t){var n=t.payload.task;if(n){var a=e.entities[n.id];a&&(a.isComplete=n.isComplete||!1,a.transactions=[])}})).addCase(ge.fulfilled,(function(e,t){var n=t.payload;nt.updateOne(e,{id:n.id,changes:{title:n.title,description:n.description,amount:n.amount}})})).addCase(ye.fulfilled,(function(e,t){nt.removeOne(e,t.payload.id)})).addCase(Ne.fulfilled,(function(e,t){var n=t.payload.task;console.log();var a=e.entities[n.id];a&&(a.isComplete=n.isComplete||!1)}))}}),ct=rt.reducer,st=rt.actions.taskSelected,ot=nt.getSelectors((function(e){return e.tasks})),it=(ot.selectAll,ot.selectById),lt=(ot.selectIds,ot.selectEntities),ut=function(e){return e.tasks.status},dt=function(e){return e.tasks.selectedId},bt=Object(tt.a)([lt,function(e,t){return t}],(function(e,t){return Object.entries(e).filter((function(e){var n=Object(b.a)(e,2),a=(n[0],n[1]);return(null===a||void 0===a?void 0:a.isComplete)===t})).map((function(e){var t=Object(b.a)(e,2),n=t[0];t[1];return+n}))})),ft=n(32),pt=function(e){var t=e.children,n=e.color,a=Object(ft.a)(e,["children","color"]);return Object(l.jsx)("button",Object(ae.a)(Object(ae.a)({className:"".concat(function(){switch(n){case"cancel":return"bg-red-600";case"success":return"bg-green-500 ";default:return"bg-accent-orange"}}()," rounded flex-1 px-2 py-1 text-white hover:bg-opacity-75")},a),{},{children:t}))},mt=function(e){var t=e.onCancel,n=e.taskId,r=Object(a.useState)(!1),c=Object(b.a)(r,2),s=c[0],o=c[1],i=ee(),u=te((function(e){return n?it(e,n):void 0})),d=function(){var e=Object(F.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o(!0),!u){e.next=6;break}i(ge(Object(ae.a)({id:u.id},p))),e.next=8;break;case 6:return e.next=8,i(ve(p)).unwrap();case 8:o(!1),t(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),o(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),f=et({title:u?u.title:"",description:u?u.description:"",type:u?u.amount>0?"income":"expense":"income",amount:u?Math.abs(u.amount):0},d),p=f.formData,m=f.focused,j=f.handleFocus,h=f.handleChange,x=f.onSubmit,O=Object.keys(p);return Object(l.jsxs)(We,{onCancel:function(){return t()},children:[Object(l.jsxs)("div",{className:"py-2 w-full border-b-2 px-8 font-semibold text-xl border-accent-grey flex justify-between",children:[Object(l.jsx)("span",{children:u?"Edit Task":"New Task"}),Object(l.jsx)(Ve,{className:"-mx-4 w-4 h-4 cursor-pointer",onClick:function(){return t(!1)}})]}),Object(l.jsx)("div",{className:"px-8 py-4",children:Object(l.jsxs)("form",{onSubmit:x,children:[Xe.map((function(e,t){return Object(l.jsx)(Ue,Object(ae.a)(Object(ae.a)({},e),{},{value:p[O[t]],onChange:h,onBlur:function(){return j(t)},focused:m[t],labelStyle:"font-medium"}),e.id)})),Object(l.jsxs)("div",{className:"flex items-center justify-between mb-3 gap-x-4",children:[Object(l.jsx)(pt,{color:"cancel",disabled:s,onClick:function(){return t()},type:"button",children:"Cancel"}),Object(l.jsx)(pt,{color:"normal",disabled:s,type:"submit",children:"Save"})]})]})})]})},jt=function(e){var t=e.onCancel,n=e.transaction,r=e.taskId,c=ee(),s=Object(a.useState)(!1),o=Object(b.a)(s,2),i=o[0],u=o[1],d=Object(a.useState)(!1),f=Object(b.a)(d,2),p=f[0],m=f[1],j=te((function(e){return r?it(e,r):void 0})),h=function(){var e=Object(F.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(!0),e.prev=1,!n){e.next=7;break}return e.next=5,c(fe({id:n.id,transaction:{title:O.title,description:O.description,date:O.date,type:O.type,amount:+O.amount}})).unwrap();case 5:e.next=14;break;case 7:if(!j){e.next=12;break}return e.next=10,c(we({taskId:j.id,transactionData:{title:O.title,description:O.description,date:O.date,type:O.type,amount:O.amount}})).unwrap();case 10:e.next=14;break;case 12:return e.next=14,c(je({title:O.title,description:O.description,date:O.date,type:O.type,amount:O.amount})).unwrap();case 14:m(!1),t(),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),console.log(null===e.t0||void 0===e.t0?void 0:e.t0.response),m(!1);case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(){return e.apply(this,arguments)}}(),x=et({title:n?n.title:j?j.title:"",description:n?n.description:j?j.description:"",type:n?n.amount>0?"income":"expense":j?j.amount>0?"income":"expense":"income",amount:Math.abs(n?n.amount:j?j.amount:0),date:de(n?n.date:(new Date).toString()),id:n?n.id:void 0},h),O=x.formData,v=x.focused,g=x.handleFocus,y=x.handleChange,w=x.onSubmit,N=x.resetForm,k=Object.keys(O);return Object(l.jsxs)(We,{onCancel:function(){return t()},children:[Object(l.jsxs)("div",{className:"py-2 relative w-full border-b-2 px-8 font-semibold text-xl border-accent-grey flex justify-between",children:[Object(l.jsx)("span",{children:n?i?"Edit Transaction":"Transaction":"New Transaction"}),Object(l.jsx)("div",{className:"absolute -top-1 right-1 flex items-center justify-center w-6 h-6 cursor-pointer hover:bg-secondary rounded-full p-1",onClick:function(){return t()},children:Object(l.jsx)(Ve,{className:"w-full h-full"})})]}),Object(l.jsx)("div",{className:"px-8 py-4",children:Object(l.jsxs)("form",{onSubmit:w,children:[Ye.map((function(e,t){return Object(l.jsx)(Ue,Object(ae.a)(Object(ae.a)({},e),{},{value:O[k[t]],onChange:y,onBlur:function(){return g(t)},focused:v[t],labelStyle:"font-medium",disabled:!i&&void 0!==n}),e.id)})),Object(l.jsx)("div",{className:"flex items-center gap-x-4 justify-between mt-8",children:n?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(pt,{disabled:p,type:"button",color:"cancel",onClick:function(){return i?(N(),void u(!1)):function(e){try{m(!0),c(me(e)).unwrap(),m(!1),t()}catch(n){console.log(n),m(!1)}}(n.id)},children:i?"Cancel":"Delete"}),i?Object(l.jsx)(pt,{color:"success",disabled:p,children:"Save"}):Object(l.jsx)(pt,{disabled:p,type:"button",onClick:function(e){e.preventDefault(),u(!0)},children:"Edit"})]}):Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(pt,{disabled:p,children:"Create"})})})]})})]})},ht=function(e){var t=e.onCancel,n=e.onSubmit,a=e.text,r=void 0===a?"":a;return Object(l.jsx)("div",{className:"fixed top-0 left-0 w-full h-full bg-gray-700 bg-opacity-60 z-20 flex justify-center items-center",children:Object(l.jsxs)("div",{className:"bg-white w-10/12 md:w-8/12 max-w-sm  h-auto z-50 py-2 flex flex-col rounded overflow-hidden",children:[Object(l.jsxs)("div",{className:"px-4 border-b py-2 flex w-full justify-between",children:[Object(l.jsx)("p",{className:"text-xl text-red-500 font-medium",children:"WARNING!"}),Object(l.jsx)(Ve,{className:"-mx-2 w-4 h-4 cursor-pointer",onClick:function(){return t(!1)}})]}),Object(l.jsx)("div",{className:"px-4 mt-2",children:Object(l.jsx)("p",{children:r})}),Object(l.jsxs)("div",{className:"flex w-full mt-5 gap-x-2 text-white font-medium px-4",children:[Object(l.jsx)("button",{className:"flex-1 bg-red-500 py-0.5",onClick:function(){return t(!1)},children:"No"}),Object(l.jsx)("button",{className:"flex-1 bg-accent-orange py-0.5",onClick:n,children:"Yes"})]})]})})},xt=function(e){var t=e.checked,n=e.onChange,a=e.className,r=void 0===a?"":a;return Object(l.jsx)("input",{type:"checkbox",checked:t,onChange:n,className:"focus:ring-0 focus:ring-offset-0 focus:text-primary ".concat(r)})};function Ot(){return(Ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function vt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var gt=a.createElement("path",{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"});function yt(e,t){var n=e.title,r=e.titleId,c=vt(e,["title","titleId"]);return a.createElement("svg",Ot({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-trash-fill",viewBox:"0 0 16 16",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,gt)}var wt=a.forwardRef(yt);n.p;function Nt(){return(Nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function kt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ct=a.createElement("path",{d:"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"});function St(e,t){var n=e.title,r=e.titleId,c=kt(e,["title","titleId"]);return a.createElement("svg",Nt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-pencil-fill",viewBox:"0 0 16 16",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,Ct)}var Tt=a.forwardRef(St),Et=(n.p,n(64),function(e){var t=e.taskId,n=e.onCheckboxClick,r=e.onTextClick,c=void 0===r?function(){}:r,s=e.onEditClick,o=e.onDeleteClick,i=Object(a.useState)(!1),u=Object(b.a)(i,2),d=u[0],f=u[1],p=te((function(e){return it(e,t)})),m=Object(a.useRef)(null);return x(m,(function(){f(!1)})),Object(l.jsx)("div",{className:"flex items-center justify-between relative group",children:p?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("span",{className:"font-bold mr-2",children:"-"}),Object(l.jsx)("span",{onClick:function(){return c(p.transactions[0])},className:" ".concat(p.isComplete?"line-through cursor-pointer":""),children:p.title})]}),Object(l.jsxs)("div",{className:"flex gap-x-1",children:[Object(l.jsxs)("div",{ref:m,className:"relative md:hidden",children:[Object(l.jsx)(h,{onClick:function(){return f((function(e){return!e}))},className:"cursor-pointer transform transition-all duration-200 ".concat(d?"rotate-180":"rotate-0")}),Object(l.jsxs)("div",{className:"absolute bg-secondary -left-2 shadow-md border border-accent-grey rounded z-10 flex p-1 gap-x-1.5 ".concat(d?"":"hidden"),children:[Object(l.jsx)(Tt,{onClick:function(){return s(p.id)},className:"text-primary cursor-pointer"}),Object(l.jsx)(wt,{onClick:function(){return o(p.id)},className:"text-red-500 cursor-pointer"})]})]}),Object(l.jsx)(xt,{checked:p.isComplete,onChange:function(){n(t,null===p||void 0===p?void 0:p.isComplete)},className:"mr-2 rounded-full cursor-pointer"}),Object(l.jsxs)("div",{className:"absolute hidden md:group-hover:flex gap-x-1.5 right-7",children:[Object(l.jsx)(Tt,{onClick:function(){return s(t)},className:"text-primary cursor-pointer"}),Object(l.jsx)(wt,{onClick:function(){return o(p.id)},className:"text-red-500 cursor-pointer"})]})]})]}):Object(l.jsx)("p",{children:"Task not found"})})}),It=function(e){var t=e.taskIds,n=e.title,a=e.onEditClick,r=e.onCheckboxClick,c=e.onTextClick,s=e.onDeleteClick;return Object(l.jsxs)("div",{className:"w-1/2 px-1 flex flex-col h-full",children:[Object(l.jsx)("span",{className:"text-base font-medium mb-1",children:n}),Object(l.jsx)("div",{className:"overflow-y-auto h-full",children:t.map((function(e){return Object(l.jsx)(Et,{taskId:e,onCheckboxClick:r,onEditClick:a,onDeleteClick:s,onTextClick:c},e)}))})]})},Pt=function(){var e=Object(a.useState)(!1),t=Object(b.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(b.a)(c,2),o=s[0],i=s[1],u=Object(a.useState)(!1),d=Object(b.a)(u,2),f=d[0],p=d[1],m=Object(a.useState)(!1),j=Object(b.a)(m,2),h=j[0],x=j[1],O=ee(),v=te(ut),g=te(De),y=te((function(e){return bt(e,!0)})),w=te((function(e){return bt(e,!1)})),N=te(dt);Object(a.useEffect)((function(){"idle"===v&&O(Oe())}),[v,O]);var k=function(e,t){void 0!==t&&(O(st({id:e})),t?i(!0):r(!0))},C=function(){var e=Object(F.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,O(Ne(t)).unwrap();case 5:O(st({id:void 0})),i(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),S=function(e){O(st({id:e})),p(!0)},T=function(e){O(st({id:e})),x(!0)};return Object(l.jsxs)(l.Fragment,{children:[h?Object(l.jsx)(mt,{onCancel:function(){O(st({id:void 0})),x(!1)},taskId:N}):null,f?Object(l.jsx)(ht,{text:"Are you sure you want to delete?",onCancel:function(){O(st({id:void 0})),p(!1)},onSubmit:function(){return function(e){if(e)try{O(ye(e)),O(st({id:void 0})),p(!1)}catch(t){console.log(t)}}(N)}}):null,o?Object(l.jsx)(ht,{text:"Undoing the task will also delete previously created transaction. Do\r you want to continue?",onCancel:i,onSubmit:function(){return C(N)}}):null,n?Object(l.jsx)(jt,{transaction:g,taskId:N,onCancel:function(){O(st({id:void 0})),r(!1)}}):null,Object(l.jsx)(Ae,{title:"Monthly Tasks",className:"col-span-2 md:col-span-1",withButton:!0,button:Object(l.jsx)("button",{onClick:function(){return x(!0)},className:"text-2xl leading-none hover:bg-opacity-75 font-medium w-6 flex items-center justify-center h-6 bg-accent-orange text-white rounded ",children:"+"}),children:Object(l.jsxs)("div",{className:"flex text-sm w-full divide-x divide-primary h-full",children:[Object(l.jsx)(It,{title:"Incomplete",taskIds:w,onEditClick:T,onCheckboxClick:k,onDeleteClick:S}),Object(l.jsx)(It,{title:"Complete",taskIds:y,onEditClick:T,onCheckboxClick:k,onTextClick:function(e){O(Ee({transaction:e})),r(!0)},onDeleteClick:S})]})})]})};function Mt(){return(Mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Dt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var zt=a.createElement("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"});function Rt(e,t){var n=e.title,r=e.titleId,c=Dt(e,["title","titleId"]);return a.createElement("svg",Mt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-search",viewBox:"0 0 16 16",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,zt)}var At=a.forwardRef(Rt);n.p;function Bt(){return(Bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function _t(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ft=a.createElement("path",{fillRule:"evenodd",d:"M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"}),Lt=a.createElement("path",{d:"M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"});function Zt(e,t){var n=e.title,r=e.titleId,c=_t(e,["title","titleId"]);return a.createElement("svg",Bt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-arrow-counterclockwise",viewBox:"0 0 16 16",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,Ft,Lt)}var Ht=a.forwardRef(Zt),Vt=(n.p,function(){var e=Object(a.useState)({searchText:"",searchDate:""}),t=Object(b.a)(e,2),n=t[0],r=t[1],c=ee(),s=function(){r({searchText:"",searchDate:""})},o=function(e){r(Object(ae.a)(Object(ae.a)({},n),{},Object(Ke.a)({},e.target.name,e.target.value)))};Object(a.useEffect)((function(){c(pe(n))}),[n,c]);var i=Object.keys(n);return Object(l.jsx)("div",{className:" bg-gradient-to-t from-primary to-blue-500 md:rounded-lg px-2 py-2 md:py-1 col-span-2 w-full",children:Object(l.jsxs)("form",{className:"flex-1 md:flex flex-wrap items-center w-full gap-1",onSubmit:function(e){return function(e){e.preventDefault(),c(pe(n))}(e)},children:[Object(l.jsxs)("div",{className:"flex",children:[Object(l.jsx)(At,{className:"text-white w-7 h-5"}),Object(l.jsx)("div",{className:"flex flex-grow justify-end md:hidden",children:Object(l.jsx)("button",{className:"ml-1 py-1 px-2 bg-accent-orange text-xs text-white rounded my-auto hover:bg-opacity-75",type:"button",onClick:s,children:Object(l.jsx)(Ht,{className:"h-4"})})})]}),Object(l.jsx)("div",{className:"flex-1 md:flex gap-1",children:Ge.map((function(e,t){return Object(l.jsx)(Ue,Object(ae.a)(Object(ae.a)({},e),{},{value:n[i[t]],onChange:o}),e.id)}))}),Object(l.jsx)("div",{className:"hidden md:flex flex-grow md:flex-grow-0 justify-end ",children:Object(l.jsx)("button",{className:"ml-1 px-2 py-2 bg-accent-orange text-xs md:text-sm text-white rounded my-auto hover:bg-opacity-75",type:"button",onClick:s,children:Object(l.jsx)(Ht,{className:"h-4"})})})]})})}),Ut=function(){return Object(l.jsxs)("div",{className:"flex items-center justify-center gap-x-1.5 mt-5",children:[Object(l.jsx)("div",{className:"bg-accent-grey w-1.5 h-6 animate-scale"}),Object(l.jsx)("div",{style:{animationDelay:"0.1s"},className:"bg-accent-grey w-1.5 h-6 animate-scale"}),Object(l.jsx)("div",{style:{animationDelay:"0.2s"},className:"bg-accent-grey w-1.5 h-6 animate-scale"}),Object(l.jsx)("div",{style:{animationDelay:"0.3s"},className:"bg-accent-grey w-1.5 h-6 animate-scale"}),Object(l.jsx)("div",{style:{animationDelay:"0.4s"},className:"bg-accent-grey w-1.5 h-6 animate-scale"})]})};function Yt(){return(Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function $t(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var qt=a.createElement("path",{fillRule:"evenodd",d:"M11.854 3.646a.5.5 0 0 1 0 .708L8.207 8l3.647 3.646a.5.5 0 0 1-.708.708l-4-4a.5.5 0 0 1 0-.708l4-4a.5.5 0 0 1 .708 0zM4.5 1a.5.5 0 0 0-.5.5v13a.5.5 0 0 0 1 0v-13a.5.5 0 0 0-.5-.5z"});function Jt(e,t){var n=e.title,r=e.titleId,c=$t(e,["title","titleId"]);return a.createElement("svg",Yt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-chevron-bar-left",viewBox:"0 0 16 16",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,qt)}var Xt=a.forwardRef(Jt);n.p;function Gt(){return(Gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Wt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Kt=a.createElement("path",{fillRule:"evenodd",d:"M4.146 3.646a.5.5 0 0 0 0 .708L7.793 8l-3.647 3.646a.5.5 0 0 0 .708.708l4-4a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708 0zM11.5 1a.5.5 0 0 1 .5.5v13a.5.5 0 0 1-1 0v-13a.5.5 0 0 1 .5-.5z"});function Qt(e,t){var n=e.title,r=e.titleId,c=Wt(e,["title","titleId"]);return a.createElement("svg",Gt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-chevron-bar-right",viewBox:"0 0 16 16",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,Kt)}var en=a.forwardRef(Qt),tn=(n.p,function(e){var t=e.children,n=e.className,a=e.onClick;return Object(l.jsx)("div",{onClick:a,className:"cursor-pointer rounded w-5 h-7 flex items-center justify-center ".concat(n||""),children:t})}),nn=function(e){var t=e.onRowClick,n=te(Me),r=te(Pe),c=Object(a.useState)(1),s=Object(b.a)(c,2),o=s[0],i=s[1];return Object(a.useEffect)((function(){i(1)}),[r]),Object(l.jsxs)("div",{className:"h-full col-span-2 bg-white",children:[Object(l.jsxs)("table",{className:"table-fixed w-full border-separate table-space",children:[Object(l.jsx)("thead",{className:"bg-gradient-to-t border-0 from-primary to-blue-500 h-12 ",children:Object(l.jsxs)("tr",{className:"text-xs md:text-base font-medium text-white md:rounded-md head-shadow",children:[Object(l.jsx)("th",{className:"w-1/5 md:rounded-l-md",children:"Title"}),Object(l.jsx)("th",{className:"",children:"Description"}),Object(l.jsx)("th",{className:"w-1/6",children:"Amount"}),Object(l.jsx)("th",{className:"w-1/6 md:rounded-r-md",children:"Date"})]})}),Object(l.jsxs)("tbody",{children:["loading"===n&&Object(l.jsx)("tr",{className:"",children:Object(l.jsx)("td",{colSpan:4,children:Object(l.jsx)(Ut,{})})}),"failed"===n&&Object(l.jsx)("tr",{children:Object(l.jsx)("td",{className:"text-red-500 font-bold text-center",colSpan:4,children:Object(l.jsx)("span",{children:"Error fetching transaction"})})}),"succeeded"===n?r.length>0?r.slice(10*(o-1),10*o).map((function(e){return Object(l.jsxs)("tr",{className:"text-2xs border bg-white border-primary md:text-sm h-11 cursor-pointer md:rounded-md hover:bg-primary hover:bg-opacity-10 md:shadow-lg",onClick:function(){return t(e)},children:[Object(l.jsx)("td",{className:"px-2 md:rounded-l-md",children:e.title}),Object(l.jsx)("td",{className:"truncate md:line-clamp-none px-2 ",children:e.description}),Object(l.jsx)("td",{className:"text-3xs md:text-sm text-center px-2 b",children:"Rp. ".concat(e.amount)}),Object(l.jsx)("td",{className:"text-3xs md:text-sm text-center px-1 md:rounded-r-md border-r-8  ".concat(e.amount>=0?"border-green-500":"border-red-500"," "),children:le(e.date,se)})]},e.id)})):Object(l.jsx)("tr",{children:Object(l.jsx)("td",{className:"text-center",colSpan:4,children:Object(l.jsx)("span",{children:"No transaction found"})})}):null]})]}),function(){for(var e=[],t=Math.ceil(r.length/10),n=1;n<=t;n++)e.push(n);var a=e[e.length-1];return Object(l.jsxs)("div",{className:"flex items-center justify-center gap-x-1 my-5",children:[Object(l.jsx)(tn,{className:"hover:bg-secondary",onClick:function(){return 1!==o?i(1):{}},children:Object(l.jsx)(Xt,{className:"w-5 h-5"})}),Object(l.jsx)(tn,{className:"hover:bg-secondary",onClick:function(){return o>1?i((function(e){return e-1})):{}},children:Object(l.jsx)(h,{className:"transform rotate-90 w-4 h-4"})}),e.slice(o>=2?o-2:0,o+1<=a?o+1:a).map((function(e){return Object(l.jsx)(tn,{className:" hover:bg-accent-grey ".concat(e===o?" bg-gradient-to-t from-primary to-blue-500 text-white":"bg-secondary"),onClick:function(){return i(e)},children:e},e)})),Object(l.jsx)(tn,{className:"hover:bg-secondary",onClick:function(){return o<a?i((function(e){return e+1})):{}},children:Object(l.jsx)(h,{className:"transform -rotate-90 w-4 h-4"})}),Object(l.jsx)(tn,{className:"hover:bg-secondary",onClick:function(){return o!==a?i(a):{}},children:Object(l.jsx)(en,{className:"w-5 h-5"})})]})}()]})},an=function(){var e=ee(),t=Object(Q.c)(De),n=Object(a.useState)(!1),r=Object(b.a)(n,2),c=r[0],s=r[1];return Object(l.jsxs)(l.Fragment,{children:[c?Object(l.jsx)(jt,{transaction:t,onCancel:function(){e(Ee({transaction:void 0})),s(!1)}}):null,Object(l.jsxs)("div",{className:"grid grid-cols-2 h-full md:px-0 md:py-8 gap-x-10 md:gap-y-2bg-white",children:[Object(l.jsx)(Be,{}),Object(l.jsx)(Pt,{}),Object(l.jsx)("button",{className:"h-6 md:h-8 w-28 col-start-2 hidden md:inline-block bg-accent-orange text-white text-xs rounded ml-auto my-auto mr-1 md:mr-0 md:my-0 md:mt-auto hover:bg-opacity-75",onClick:function(){return s(!0)},children:"Add Transaction"}),Object(l.jsx)(Vt,{}),Object(l.jsx)("button",{className:"h-6 my-2 md:h-8 w-28 col-start-2 bg-accent-orange text-white text-xs rounded md:hidden ml-auto mr-1 md:mr-0 md:my-0 md:mt-auto hover:bg-opacity-75",onClick:function(){return s(!0)},children:"Add Transaction"}),Object(l.jsx)(nn,{onRowClick:function(t){e(Ee({transaction:t})),s(!0)}})]})]})},rn=function(e){var t=e.handleChangeForm,n=J(),r=n.login,c=n.error,s=Object(a.useState)([!1,!1]),o=Object(b.a)(s,2),i=o[0],u=o[1],d=Object(a.useState)({email:"",password:""}),f=Object(b.a)(d,2),p=f[0],m=f[1],j=Object.keys(p),h=function(){var e=Object(F.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r(p.email,p.password);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(e){m(Object(ae.a)(Object(ae.a)({},p),{},Object(Ke.a)({},e.target.name,e.target.value)))};return Object(l.jsx)("div",{className:"my-auto mx-auto",children:Object(l.jsx)("div",{className:"w-full max-w-xs",children:Object(l.jsxs)("form",{className:"bg-primary shadow-md rounded px-8 pt-6 pb-8 mb-4 my-4",onSubmit:h,children:[$e.map((function(e,t){return Object(l.jsx)(Ue,Object(ae.a)(Object(ae.a)({},e),{},{value:p[j[t]],onChange:x,onBlur:function(){return function(e){i[e]=!0,u(Object(Qe.a)(i))}(t)},focused:i[t],labelStyle:"font-bold text-white"}),e.id)})),Object(l.jsx)("p",{className:"text-red-500 text-xs italic mb-5",children:c}),Object(l.jsx)("div",{className:"flex items-center justify-between mb-3",children:Object(l.jsx)("button",{className:"w-full bg-accent-orange hover:bg-opacity-90 hover:text-gray-200 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",children:"Login"})}),Object(l.jsx)("div",{className:"flex items-center justify-between",children:Object(l.jsxs)("p",{className:"inline-block align-baseline font-bold text-xs text-white",children:["Don't have an account?"," ",Object(l.jsx)("span",{className:"text-accent-orange hover:text-opacity-70 cursor-pointer",onClick:function(){return t(!1)},children:"Register"})]})})]})})})},cn=function(e){var t=e.handleChangeForm,n=e.handleOpenModal,r=Object(a.useState)([!1,!1,!1,!1,!1]),c=Object(b.a)(r,2),s=c[0],o=c[1],i=Object(a.useState)(""),u=Object(b.a)(i,2),d=u[0],f=u[1],p=Object(a.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),m=Object(b.a)(p,2),j=m[0],h=m[1],x=[].concat(Object(Qe.a)(qe),[{id:"4",name:"confirmPassword",type:"password",placeholder:"******************",label:"Confirm Password",pattern:j.password,errorMessage:"It has to be the same as your password!"}]),O=Object.keys(j),v=function(e){h(Object(ae.a)(Object(ae.a)({},j),{},Object(Ke.a)({},e.target.name,e.target.value)))};return Object(l.jsx)("div",{className:"my-auto mx-auto",children:Object(l.jsx)("div",{className:"w-full max-w-xs",children:Object(l.jsxs)("form",{className:"bg-primary shadow-md rounded px-8 pt-6 pb-8 mb-4 mt-4",onSubmit:function(e){e.preventDefault(),Y.register(j.firstName,j.lastName,j.email,j.password,j.confirmPassword).then((function(){h(Object(ae.a)(Object(ae.a)({},j),{},{firstName:"",lastName:"",email:"",password:"",confirmPassword:""})),s.forEach((function(e,t){s[t]=!1})),o(Object(Qe.a)(s)),n(!0),t(!0)})).catch((function(e){f(e.response.data.message)}))},children:[x.map((function(e,t){return Object(l.jsx)(Ue,Object(ae.a)(Object(ae.a)({},e),{},{value:j[O[t]],onChange:v,onBlur:function(){return function(e){s[e]=!0,o(Object(Qe.a)(s))}(t)},focused:s[t],labelStyle:"font-bold text-white"}),e.id)})),Object(l.jsx)("p",{className:"text-red-500 text-xs italic mb-5",children:d}),Object(l.jsx)("div",{className:"flex items-center justify-between mb-3",children:Object(l.jsx)("button",{className:"w-full bg-accent-orange hover:bg-opacity-90 hover:text-gray-200 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",children:"Register"})}),Object(l.jsx)("div",{className:"flex items-center justify-between",children:Object(l.jsxs)("p",{className:"inline-block align-baseline font-bold text-xs text-white",children:["Already have an account?"," ",Object(l.jsx)("span",{className:"text-accent-orange hover:text-opacity-70 cursor-pointer",onClick:function(){return t(!0)},children:"Sign In"})]})})]})})})},sn=function(e){var t=e.open,n=e.changeOpen,r=Object(a.useRef)(null);return x(r,(function(){n(!1)})),t?Object(l.jsx)("div",{className:"fixed top-0 left-0 w-full h-full bg-gray-700 bg-opacity-60 z-50 flex justify-center items-center",children:Object(l.jsx)("div",{className:"bg-white md:w-4/12 w-3/4 max-w-sm h-auto z-50 py-2 flex flex-col",ref:r,children:Object(l.jsxs)("div",{className:"py-2 w-full px-8 font-semibold text-xl flex flex-col justify-center items-center",children:[Object(l.jsx)("span",{children:"Register Success!"}),Object(l.jsx)("button",{className:"w-20 mt-6 bg-accent-orange hover:bg-opacity-90 hover:text-gray-200 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",onClick:function(){return n(!1)},children:"OK"})]})})}):null},on=function(){var e=J().user,t=Object(a.useState)(!0),n=Object(b.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!1),o=Object(b.a)(s,2),u=o[0],d=o[1];return e?Object(l.jsx)(i.a,{to:"/home",replace:!0}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"grid md:grid-cols-2 flex-1 bg-money-pattern",children:[Object(l.jsx)("div",{className:"flex flex-col justify-center items-center backdrop-filter backdrop-grayscale backdrop-brightness-50",children:Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{className:"text-white font-bold text-7xl md:text-8xl",children:[Object(l.jsx)("span",{className:"text-accent-orange text-8xl md:text-9xl",children:"X"}),"pend"]}),Object(l.jsxs)("p",{className:"mt-3 text-white",children:["Track your",Object(l.jsx)("span",{className:"text-accent-orange text-md md:text-lg font-semibold",children:" spending "}),"and",Object(l.jsx)("span",{className:"text-accent-orange text-md md:text-lg font-semibold",children:" earnings"}),"!"]})]})}),Object(l.jsx)("div",{className:"flex justify-center items-center backdrop-filter backdrop-grayscale backdrop-brightness-50",children:r?Object(l.jsx)(rn,{handleChangeForm:c}):Object(l.jsx)(cn,{handleChangeForm:c,handleOpenModal:d})})]}),Object(l.jsx)(sn,{open:u,changeOpen:d})]})},ln=function(){var e=Object(i.i)();return Object(l.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-center py-2",children:[Object(l.jsxs)("h1",{className:"text-9xl lg:text-10xl text-primary font-semibold",children:["4",Object(l.jsx)("span",{className:"text-accent-orange",children:"0"}),"4"]}),Object(l.jsxs)("p",{className:"text-primary font-medium",children:["Whoops, the page you are looking for does not"," ",Object(l.jsx)("span",{className:"text-accent-orange",children:"exists!"})]}),Object(l.jsx)("button",{onClick:function(){return e("/")},className:"mt-5 rounded border border-accent-orange text-accent-orange bg-white hover:bg-accent-orange hover:text-white transition-colors duration-200 px-2 py-1",children:"Back to Home"})]})},un=function(e){var t=e.page,n=e.changeOpen,r=e.user,c=Object(a.useState)(""),s=Object(b.a)(c,2),o=s[0],i=s[1],u=Object(a.useState)([!1,!1,!1,!1,!1,!1]),d=Object(b.a)(u,2),f=d[0],p=d[1],m=Object(a.useState)({first_name:null===r||void 0===r?void 0:r.first_name,last_name:null===r||void 0===r?void 0:r.last_name,email:null===r||void 0===r?void 0:r.email,previous_password:"",new_password:"",confirm_password:""}),j=Object(b.a)(m,2),h=j[0],O=j[1],v=Object.keys(h),g=[].concat(Object(Qe.a)(Je),[{id:"5",name:"confirm_password",type:"password",placeholder:"******************",label:"Confirm Password",pattern:h.new_password,errorMessage:"It has to be the same as your new password!",notRequired:!0}]),y=Object(a.useRef)(null);x(y,(function(){N()}));var w=function(e){O(Object(ae.a)(Object(ae.a)({},h),{},Object(Ke.a)({},e.target.name,e.target.value)))},N=function(){n(!1)};return Object(l.jsxs)(We,{onCancel:function(){return N()},children:[Object(l.jsx)("div",{className:"py-2 w-full border-b-2 px-8 font-semibold text-xl border-accent-grey flex justify-between",children:"profile"===t?"Edit Profile":"Change Password"}),Object(l.jsx)("div",{className:"px-8 py-4",children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===h.new_password?Y.editProfile({first_name:h.first_name,last_name:h.last_name,email:h.email}).then(function(){var e=Object(F.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(!1);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e.response.data.message),i(e.response.data.message)})):Y.editProfile(h).then(function(){var e=Object(F.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(!1);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e.response.data.message),i(e.response.data.message)}))},children:[g.map((function(e,n){return"profile"===t&&["first_name","last_name","email"].includes(e.name)||"password"===t&&["previous_password","new_password","confirm_password"].includes(e.name)?Object(l.jsx)(Ue,Object(ae.a)(Object(ae.a)({},e),{},{value:h[v[n]],onChange:w,onBlur:function(){return function(e){f[e]=!0,p(Object(Qe.a)(f))}(n)},focused:f[n],labelStyle:"font-medium"}),e.id):null})),Object(l.jsx)("p",{className:"text-red-500 text-xs italic mb-5",children:o}),Object(l.jsxs)("div",{className:"flex items-center justify-between mb-3 gap-x-4",children:[Object(l.jsx)("button",{className:"w-full bg-red-600 hover:bg-opacity-90 hover:text-gray-200 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button",onClick:function(){return N()},children:"Cancel"}),Object(l.jsx)("button",{className:"w-full bg-accent-orange hover:bg-opacity-90 hover:text-gray-200 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",children:"Save"})]})]})})]})},dn=function(){var e=Object(a.useState)(),t=Object(b.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(b.a)(c,2),o=s[0],i=s[1],u=Object(a.useState)("profile"),d=Object(b.a)(u,2),f=d[0],p=d[1],m=function(e){i(!0),p(e)};return Object(a.useEffect)((function(){Y.getUser().then((function(e){r(e)}))}),[o]),Object(l.jsxs)(l.Fragment,{children:[o&&"profile"===f?Object(l.jsx)(un,{page:"profile",changeOpen:i,user:n}):o&&"password"===f?Object(l.jsx)(un,{page:"password",changeOpen:i,user:n}):null,Object(l.jsx)("div",{className:"flex flex-col justify-center items-center my-auto py-5 px-6 md:px-10",children:Object(l.jsx)("div",{className:"w-full bg-white h-full p-6 rounded-lg md:shadow-2xl",children:Object(l.jsxs)("div",{className:" mt-8 w-full ",children:[Object(l.jsx)("div",{className:"bg-gray-500 w-36 h-36 rounded-full mx-auto mb-6"}),Object(l.jsxs)("div",{className:"flex-col",children:[Object(l.jsx)("div",{className:"py-6 md:pb-2 flex gap-x-10 justify-center",children:Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{className:" text-xl font-semibold mb-5",children:["First name:"," ",Object(l.jsx)("span",{className:" font-normal",children:null===n||void 0===n?void 0:n.first_name})]}),Object(l.jsxs)("p",{className:" text-xl font-semibold mb-5",children:["Last name:"," ",Object(l.jsx)("span",{className:" font-normal",children:null===n||void 0===n?void 0:n.last_name})]}),Object(l.jsxs)("p",{className:" text-xl font-semibold mb-5",children:["Email: ",Object(l.jsx)("span",{className:" font-normal",children:null===n||void 0===n?void 0:n.email})]}),Object(l.jsxs)("p",{className:" text-xl font-semibold mb-5",children:["Joined On:"," ",Object(l.jsx)("span",{className:" font-normal",children:(null===n||void 0===n?void 0:n.created)?le(null===n||void 0===n?void 0:n.created,se):null})]})]})}),Object(l.jsxs)("div",{className:"flex flex-col md:mb-4 lg:flex-row justify-center lg:justify-between gap-y-5 gap-x-2",children:[Object(l.jsx)("button",{className:"w-full lg:w-2/12 m-auto lg:m-0 lg:ml-auto max-w-xs bg-accent-orange hover:bg-opacity-90 hover:text-gray-200 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",onClick:function(){return m("profile")},children:"Edit"}),Object(l.jsx)("button",{className:"w-full lg:w-2/12 m-auto lg:m-0 lg:mr-auto max-w-xs bg-accent-orange hover:bg-opacity-90 hover:text-gray-200 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",onClick:function(){return m("password")},children:"Change Password"})]})]})]})})})]})};var bn=function(){return Object(l.jsx)(o.a,{children:Object(l.jsxs)(q,{children:[Object(l.jsx)(W,{}),Object(l.jsxs)(i.e,{children:[Object(l.jsx)(i.c,{path:"/",element:Object(l.jsx)(on,{})}),Object(l.jsxs)(i.c,{path:"",element:Object(l.jsx)(K,{}),children:[Object(l.jsx)(i.c,{path:"/home",element:Object(l.jsx)(an,{})}),Object(l.jsx)(i.c,{path:"/profile",element:Object(l.jsx)(dn,{})})]}),Object(l.jsx)(i.c,{path:"*",element:Object(l.jsx)(ln,{})})]}),Object(l.jsx)(d,{})]})})},fn=Object(ne.a)({reducer:{transactions:Te,tasks:ct}}),pn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,66)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(Q.a,{store:fn,children:Object(l.jsx)(bn,{})})}),document.getElementById("root")),pn()}},[[65,1,2]]]);
//# sourceMappingURL=main.a38999af.chunk.js.map